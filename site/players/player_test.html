<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jesper's Stats</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #212529; /* Really dark gray background */
            color: #d1d1d1; /* Light gray text color */
        }
        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            background: #343a40; /* Slightly lighter dark gray */
            border-radius: 8px; /* Rounded corners */
        }
        h1 {
            text-align: center;
            color: #ffffff; /* White color for the header */
        }
        p {
            font-size: 16px;
            margin: 10px 0;
        }
        p strong {
            color: #007bff; /* Blue color for labels */
        }
        a {
            text-decoration: none;
            color: #007bff; /* Blue color for the link */
        }
        a:hover {
            text-decoration: underline;
        }
        .stats {
            margin-top: 20px;
        }
        .stats p {
            margin: 10px 0;
        }
        .stats strong {
            color: #ffffff; /* White color for stat labels */
        }

        /* Style for section titles like "Rank Stats", "Rating Stats" */
        .stat-title {
            font-size: 20px;
            font-weight: bold;
            color: #ffffff; /* White color for titles */
            margin-top: 20px;
            text-transform: uppercase; /* Makes titles in uppercase */
            border-bottom: 2px solid #007bff; /* Blue underline */
            padding-bottom: 5px;
        }

        /* Adding some space between sections */
        .section {
            margin-bottom: 30px;
        }

        /* Flexbox styling to align stats on the same line */
        .stat-pair {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
        .stat-pair p {
            margin: 0; /* Remove default margin */
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Jesper's Stats</h1>

        <div class="stats">
            <!-- Rank Stats Section -->
            <div class="section">
                <p class="stat-title">Rank Stats:</p>
                <div class="stat-pair">
                    <p><strong>Current Rank:</strong><br id="currentRank">Loading...</p>
                    <p><strong>Peak Rank:</strong><br id="peakRank">Loading...</p>
                    <p><strong>Worst Rank:</strong><br id="worstRank">Loading...</p>
                </div>
            </div>

            <!-- Rating Stats Section -->
            <div class="section">
                <p class="stat-title">Rating Stats:</p>
                <div class="stat-pair">
                    <p><strong>Current Rating:</strong><br id="currentRating">Loading...</p>
                    <p><strong>Peak Rating:</strong><br id="peakRating">Loading...</p>
                    <p><strong>Worst Rating:</strong><br id="worstRating">Loading...</p>
                </div>
            </div>

            <!-- Game Stats Section -->
            <div class="section">
                <p class="stat-title">Game Stats:</p>
                <div class="stat-pair">
                    <p><strong>Games Played:</strong><br id="gamesPlayed">Loading...</p>
                    <p><strong>Wins:</strong><br id="wins">Loading...</p>
                    <p><strong>Losses:</strong><br id="losses">Loading...</p>
                    <p><strong>Win Percentage:</strong><br id="winPercentage">Loading...</p>
                    <p><strong>Average Points:</strong><br id="averagePoints">Loading...</p>
                </div>
            </div>

            <!-- Tournament Stats Section -->
            <div class="section">
                <p class="stat-title">Tournament Stats:</p>
                <div class="stat-pair">
                    <p><strong>Best Performance:</strong><br><a href="../tournamentfolder/P2R1.html">Pirkkola 2 RR1</a><br>(1st place)<br>Strength 1980.6</p>
                    <p><strong>Tournaments Played:</strong><br id="tournamentsPlayed">Loading...</p>
                    <p><strong>Tournaments Won:</strong><br id="tournamentsWon">Loading...</p>
                </div>
            </div>

            <!-- Hall of Fame and Shame Section -->
            <div class="section">
                <p class="stat-title">Hall of Fame and Shame:</p>
                <div class="stat-pair">
                    <p><strong>Best Victory:</strong><br><a href="player_juho.html">Juho</a> Rated 1939.6<br><a href="../tournamentfolder/P2R1.html">Pirkkola 2 RR1</a><br>17.1.2025</p>
                    <p><strong>Worst Defeat:</strong><br><a href="player_aaro.html">Aaro,</a> Rated 1770.7<br><a href="../tournamentfolder/P2D1.html">Pirkkola 2 DE1</a><br>17.1.2025</p>
                </div>
            </div>

            <!-- Matchup Stats Section -->
            <div class="section">
                <p class="stat-title">Matchup Stats:</p>
                <div class="stat-pair">
                    <p><strong>Best WL Matchup:</strong><br><a href="player_riku.html">Riku</a><br>4 - 0</p>
                    <p><strong>Worst WL Matchup:</strong><br><a href="player_aaro.html">Aaro</a><br>1 - 4</p>
                    <p><strong>Best Point Matchup:</strong><br><a href="player_riku.html">Riku</a><br>11.00 - 6.13</p>
                    <p><strong>Worst Point Matchup:</strong><br><a href="player_aaro.html">Aaro</a><br>7.83 - 10.66</p>
                    <p><strong>Most Played:</strong><br><a href="player_juho.html">Juho</a> & <a href="player_aaro.html">Aaro</a><br>5 games</p>
                </div>
            </div>

        </div>

        <p><a href="../index.html">Back to Leaderboard</a></p>
    </div>

    <script>
        const playerName = "Jesper"; // Player name to search in the CSV data
        const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRcU0BWSuV8JcIyK1VZgNmPGkfx1x85T4A8fTFilGaq-eMpWQDRXafFbIuDfz2tFwRdfuiM19_jMKB9/pub?gid=1895329333&single=true&output=csv";

        // Function to fetch and parse the CSV data
        fetch(url)
            .then(response => response.text())
            .then(csv => {
                const rows = csv.split("\n");
                // Skipping the header
                for (let i = 1; i < rows.length; i++) {
                    const row = rows[i].split(",");
                    const name = row[0].trim();

                    if (name === playerName) {
                        const stats = {
                            currentRank: row[1] || 'N/A', // Index 1: Current Rank
                            peakRank: row[2] || 'N/A', // Index 2: Peak Rank
                            worstRank: row[3] || 'N/A', // Index 3: Worst Rank
                            currentRating: row[4] || 'N/A', // Index 4: Current Rating
                            peakRating: row[5] || 'N/A', // Index 5: Peak Rating
                            worstRating: row[6] || 'N/A', // Index 6: Worst Rating
                            gamesPlayed: row[7] || 'N/A', // Index 7: Games Played
                            wins: row[8] || 'N/A', // Index 8: Wins
                            losses: row[9] || 'N/A', // Index 9: Losses
                            winPercentage: row[10] || 'N/A', // Index 10: Win Percentage
                            averagePoints: row[11] || 'N/A', // Index 11: Average Points
                            tournamentsPlayed: row[12] || 'N/A', // Index 12: Tournaments Played
                            tournamentsWon: row[13] || 'N/A', // Index 13: Tournaments Won
                        };

                        // Update the stats dynamically
                        document.getElementById('currentRank').textContent = stats.currentRank;
                        document.getElementById('peakRank').textContent = stats.peakRank;
                        document.getElementById('worstRank').textContent = stats.worstRank;
                        document.getElementById('currentRating').textContent = stats.currentRating;
                        document.getElementById('peakRating').textContent = stats.peakRating;
                        document.getElementById('worstRating').textContent = stats.worstRating;
                        document.getElementById('gamesPlayed').textContent = stats.gamesPlayed;
                        document.getElementById('wins').textContent = stats.wins;
                        document.getElementById('losses').textContent = stats.losses;
                        document.getElementById('winPercentage').textContent = stats.winPercentage;
                        document.getElementById('averagePoints').textContent = stats.averagePoints;
                        document.getElementById('tournamentsPlayed').textContent = stats.tournamentsPlayed;
                        document.getElementById('tournamentsWon').textContent = stats.tournamentsWon;
                        }
                }
            })
            .catch(error => console.error('Error fetching CSV data:', error));
    </script>
</body>
</html>
