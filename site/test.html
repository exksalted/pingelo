<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaderboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #343a40;
            color: #d1d1d1;
        }

        .navbar {
            display: flex;
            justify-content: center;
            background-color: #212529;
            padding: 10px 0;
            border-bottom: 2px solid #007bff;
        }
        .navbar a {
            color: #d1d1d1;
            text-decoration: none;
            margin: 0 15px;
            font-weight: bold;
            font-size: 16px;
        }
        .navbar a:hover {
            color: #007bff;
        }

        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }

        .leaderboard {
            margin-top: 20px;
            border-collapse: collapse;
            width: 100%;
        }
        .leaderboard th, .leaderboard td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            color: #d1d1d1;
        }
        .leaderboard th {
            background-color: #212529;
            color: white;
            cursor: pointer;
        }
        .leaderboard th:hover {
            background-color: #007bff;
        }
        a {
            text-decoration: none;
            color: #007bff;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <div class="navbar">
        <a href="index.html">Leaderboard</a>
        <a href="tournaments.html">Tournaments</a>
        <a href="graphs.html">Graphs</a>
        <a href="faq.html">FAQ</a>
    </div>

    <div class="container">
        <h1>Leaderboard</h1>
        <table class="leaderboard" id="leaderboardTable">
            <thead>
                <tr>
                    <th onclick="sortTable(0)">Rank</th>
                    <th onclick="sortTable(1)">Player</th>
                    <th onclick="sortTable(2)">Rating</th>
                    <th onclick="sortTable(3)">RD</th>
                    <th onclick="sortTable(4)">WL Ratio</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td><a href="players/player_aaro.html">Aaro</a></td>
                    <td>1933.6</td>
                    <td>68.4</td>
                    <td>74.0%</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><a href="players/player_juho.html">Juho</a></td>
                    <td>1763.2</td>
                    <td>69.5</td>
                    <td>66.67%</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><a href="players/player_jesper.html">Jesper</a></td>
                    <td>1677.0</td>
                    <td>119.88</td>
                    <td>50.0%</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><a href="players/player_matias.html">Matias</a></td>
                    <td>1480.4</td>
                    <td>160.11</td>
                    <td>42.9%</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td><a href="players/player_jussi.html">Jussi</a></td>
                    <td>1441.6</td>
                    <td>180.0</td>
                    <td>8.3%</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td><a href="players/player_tuomas.html">Tuomas</a></td>
                    <td>1247.3</td>
                    <td>139.74</td>
                    <td>18.8%</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td><a href="players/player_riku.html">Riku</a></td>
                    <td>1159.5</td>
                    <td>124.67</td>
                    <td>11.5%</td>
                </tr>
            </tbody>
        </table>
    </div> 

    <script>
        function sortTable(columnIndex) {
            const table = document.getElementById("leaderboardTable");
            const rows = Array.from(table.rows).slice(1); // Exclude header row
            const isNumericColumn = !isNaN(parseFloat(rows[0].cells[columnIndex].textContent));
            let sortedRows;

            if (table.getAttribute("data-sort-direction") === "asc") {
                sortedRows = rows.sort((a, b) => compareCells(a, b, columnIndex, isNumericColumn, false));
                table.setAttribute("data-sort-direction", "desc");
            } else {
                sortedRows = rows.sort((a, b) => compareCells(a, b, columnIndex, isNumericColumn, true));
                table.setAttribute("data-sort-direction", "asc");
            }

            // Re-append rows in sorted order
            sortedRows.forEach(row => table.tBodies[0].appendChild(row));
        }

        function compareCells(a, b, columnIndex, isNumeric, ascending) {
            const valA = isNumeric 
                ? parseFloat(a.cells[columnIndex].textContent) 
                : a.cells[columnIndex].textContent.toLowerCase();
            const valB = isNumeric 
                ? parseFloat(b.cells[columnIndex].textContent) 
                : b.cells[columnIndex].textContent.toLowerCase();

            if (valA < valB) return ascending ? -1 : 1;
            if (valA > valB) return ascending ? 1 : -1;
            return 0;
        }
    </script>
</body>
</html>
